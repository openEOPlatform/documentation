<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Forest Change Detection | openEO Platform Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="One of the most important properties for a future-oriented platform on earth observation is the orientation towards simple operation, with a special focus on efficiency of evaluation and availability. Complexity is kept hidden in the background to direct your focus on the data. This is done on one hand by the use of an aggregate API to access the infrastructure, but also by improved user-faced graphical processing. For access to the API, the user has the option to incorporate his own preferences, by choosing between several clients.">
    
    <link rel="preload" href="/assets/css/0.styles.3aa556f9.css" as="style"><link rel="preload" href="/assets/js/app.330cd5f2.js" as="script"><link rel="preload" href="/assets/js/18.b8bd49c2.js" as="script"><link rel="preload" href="/assets/js/13.2f31f572.js" as="script"><link rel="preload" href="/assets/js/47.a8bde7b8.js" as="script"><link rel="preload" href="/assets/js/32.d1a64918.js" as="script"><link rel="prefetch" href="/assets/js/1.ccc6cb8a.js"><link rel="prefetch" href="/assets/js/11.36216b19.js"><link rel="prefetch" href="/assets/js/12.a37e0db5.js"><link rel="prefetch" href="/assets/js/14.a317a051.js"><link rel="prefetch" href="/assets/js/15.186e7b30.js"><link rel="prefetch" href="/assets/js/16.ffd62cbb.js"><link rel="prefetch" href="/assets/js/17.838864cc.js"><link rel="prefetch" href="/assets/js/19.afdc7863.js"><link rel="prefetch" href="/assets/js/2.df568935.js"><link rel="prefetch" href="/assets/js/20.88024288.js"><link rel="prefetch" href="/assets/js/21.15fdbb41.js"><link rel="prefetch" href="/assets/js/22.1cad08bb.js"><link rel="prefetch" href="/assets/js/23.1a4fc348.js"><link rel="prefetch" href="/assets/js/24.1d52118f.js"><link rel="prefetch" href="/assets/js/25.663462cb.js"><link rel="prefetch" href="/assets/js/26.0dfb57c0.js"><link rel="prefetch" href="/assets/js/27.e27f185f.js"><link rel="prefetch" href="/assets/js/28.7feb7160.js"><link rel="prefetch" href="/assets/js/29.e2f58d2a.js"><link rel="prefetch" href="/assets/js/3.b2e1f72a.js"><link rel="prefetch" href="/assets/js/30.ef80a4df.js"><link rel="prefetch" href="/assets/js/31.115358b0.js"><link rel="prefetch" href="/assets/js/33.9fb30556.js"><link rel="prefetch" href="/assets/js/34.172a0791.js"><link rel="prefetch" href="/assets/js/35.b9d33863.js"><link rel="prefetch" href="/assets/js/36.4b18ddcd.js"><link rel="prefetch" href="/assets/js/37.6f6e38ef.js"><link rel="prefetch" href="/assets/js/38.2b88ee1e.js"><link rel="prefetch" href="/assets/js/39.e573c246.js"><link rel="prefetch" href="/assets/js/4.7a8f58e2.js"><link rel="prefetch" href="/assets/js/40.8dbb47f8.js"><link rel="prefetch" href="/assets/js/41.df72334a.js"><link rel="prefetch" href="/assets/js/42.174dbc14.js"><link rel="prefetch" href="/assets/js/43.e9e3234f.js"><link rel="prefetch" href="/assets/js/44.9245124b.js"><link rel="prefetch" href="/assets/js/45.3683d60c.js"><link rel="prefetch" href="/assets/js/46.6190d868.js"><link rel="prefetch" href="/assets/js/48.2ce7071d.js"><link rel="prefetch" href="/assets/js/5.5041b3fe.js"><link rel="prefetch" href="/assets/js/6.a676e005.js"><link rel="prefetch" href="/assets/js/7.23b05567.js"><link rel="prefetch" href="/assets/js/8.b8f0e7ec.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.4cbab94e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3aa556f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://openeo.cloud/wp-content/themes/openeo_platform/images/logo-pages.svg" alt="openEO Platform Documentation" class="logo"> <span class="site-name can-hide">openEO Platform Documentation</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Start
</a></div><div class="nav-item"><a href="/data-collections/" class="nav-link">
  Data Collections
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Get Started" class="dropdown-title"><span class="title">Get Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Get Started" class="mobile-dropdown-title"><span class="title">Get Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/datacubes.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data Cubes
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Client Libraries
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/getting-started/python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/getting-started/r/" class="nav-link">
  R
</a></li></ul></li><li class="dropdown-item"><h4>
          Development Environments
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/jupyterlab/" class="nav-link">
  JupyterLab (Python)
</a></li><li class="dropdown-subitem"><a href="/getting-started/editor/" class="nav-link">
  Editor
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/authentication/" class="nav-link">
  Registration / Login
</a></li><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use Cases" class="dropdown-title"><span class="title">Use Cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use Cases" class="mobile-dropdown-title"><span class="title">Use Cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Analysis-Ready Data (ARD)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/usecases/ard/" class="nav-link">
  Overview
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/sar/" class="nav-link">
  SAR (Sentinel-1)
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/msi/" class="nav-link">
  Multi-Spectral Imagery
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/usecases/crop-classification/" class="nav-link">
  Crop Classification
</a></li><li class="dropdown-item"><!----> <a href="/usecases/forest-change-detection/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Forest Change Detection
</a></li></ul></div></div><div class="nav-item"><a href="/processes/" class="nav-link">
  Processes
</a></div><div class="nav-item"><a href="/file-formats/" class="nav-link">
  File Formats
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Advanced" class="dropdown-title"><span class="title">Advanced</span> <span class="arrow down"></span></button> <button type="button" aria-label="Advanced" class="mobile-dropdown-title"><span class="title">Advanced</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/federation/" class="nav-link">
  Federation Aspects
</a></li><li class="dropdown-item"><!----> <a href="/api/" class="nav-link">
  HTTP API
</a></li></ul></div></div><div class="nav-item"><a href="https://openeo.cloud/contact/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://openeo.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  openeo.cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Start
</a></div><div class="nav-item"><a href="/data-collections/" class="nav-link">
  Data Collections
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Get Started" class="dropdown-title"><span class="title">Get Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Get Started" class="mobile-dropdown-title"><span class="title">Get Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/datacubes.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data Cubes
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Client Libraries
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/getting-started/python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/getting-started/r/" class="nav-link">
  R
</a></li></ul></li><li class="dropdown-item"><h4>
          Development Environments
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/jupyterlab/" class="nav-link">
  JupyterLab (Python)
</a></li><li class="dropdown-subitem"><a href="/getting-started/editor/" class="nav-link">
  Editor
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/authentication/" class="nav-link">
  Registration / Login
</a></li><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use Cases" class="dropdown-title"><span class="title">Use Cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use Cases" class="mobile-dropdown-title"><span class="title">Use Cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Analysis-Ready Data (ARD)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/usecases/ard/" class="nav-link">
  Overview
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/sar/" class="nav-link">
  SAR (Sentinel-1)
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/msi/" class="nav-link">
  Multi-Spectral Imagery
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/usecases/crop-classification/" class="nav-link">
  Crop Classification
</a></li><li class="dropdown-item"><!----> <a href="/usecases/forest-change-detection/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Forest Change Detection
</a></li></ul></div></div><div class="nav-item"><a href="/processes/" class="nav-link">
  Processes
</a></div><div class="nav-item"><a href="/file-formats/" class="nav-link">
  File Formats
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Advanced" class="dropdown-title"><span class="title">Advanced</span> <span class="arrow down"></span></button> <button type="button" aria-label="Advanced" class="mobile-dropdown-title"><span class="title">Advanced</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/federation/" class="nav-link">
  Federation Aspects
</a></li><li class="dropdown-item"><!----> <a href="/api/" class="nav-link">
  HTTP API
</a></li></ul></div></div><div class="nav-item"><a href="https://openeo.cloud/contact/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://openeo.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  openeo.cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Forest Change Detection</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/usecases/forest-change-detection/#data-preparation" class="sidebar-link">Data preparation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/usecases/forest-change-detection/#seasonal-curve-fitting" class="sidebar-link">Seasonal curve fitting</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/usecases/forest-change-detection/#predicting-values" class="sidebar-link">Predicting values</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="forest-change-detection"><a href="#forest-change-detection" class="header-anchor">#</a> Forest Change Detection</h1> <p>Spatially and temporally explicit information of forest ecosystems is essential for a broad range of applications and Earth observation has become a key instrument for forest management and for monitoring forest cover dynamics.
Forest change detection tries to identify critical variations in the time series signal, with a strong focus on forests (e.g., illegal deforestation, wind throw, fire).
Forests follow a seasonal growth: during the summer months, they carry more leaves which leads to higher surface reflectance whereas in winter the reflectance will be much lower. This up and down in the surface reflectance of vegetated areas, can be mapped as a sinusoidal function with peaks in the vegetative periods (summer) and valleys in between. Knowing the shape of this sinusoidal function allow us to inspect disturbances, checking how much the new signal differ from the reference harmonic behavior.</p> <figure><img src="https://user-images.githubusercontent.com/31700619/131147116-f0b94015-cde2-4630-9fe6-4a854f8d2474.png" alt="Sample result from the curve fitting and prediction steps"> <figcaption>Figure 1: Sample result from the curve fitting and prediction steps. In blue the S2 B08 data and in orange the predicted values following the harmonic seasonal function.</figcaption></figure> <p>This approach can be applied to single pixels, looking into a particular area of interest, or more in general over a wide area, where each pixel time series is treated independently.</p> <p>In this section, we will show how to combine openEO functionality into a basic change detection pipeline.</p> <h2 id="data-preparation"><a href="#data-preparation" class="header-anchor">#</a> Data preparation</h2> <p>To correctly find the right fitting for the harmonic function, we need cloud-free data if using optical data, or shadow masked data if using radar data, over a timeseries of at least two years (but more is better!). Pixels covered by clouds or shadows deviate from the expected trend of the vegetation and therefore we must start with pre-processed data.</p> <h2 id="seasonal-curve-fitting"><a href="#seasonal-curve-fitting" class="header-anchor">#</a> Seasonal curve fitting</h2> <p>Supposing that the training input data is a cloud-free Sentinel-2 timeseries we can write the following code using the openEO clients to find the optimal function coefficients:</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> openeo
<span class="token keyword">from</span> openeo<span class="token punctuation">.</span>processes <span class="token keyword">import</span> cos<span class="token punctuation">,</span> sin<span class="token punctuation">,</span> array_element
<span class="token keyword">def</span> <span class="token function">fitFunction</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span>ProcessBuilder<span class="token punctuation">,</span> parameters<span class="token punctuation">:</span>ProcessBuilder<span class="token punctuation">)</span><span class="token punctuation">:</span>
    t <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">31557600</span> <span class="token operator">*</span> x
    <span class="token keyword">return</span> parameters<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> parameters<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> cos<span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">+</span> parameters<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> sin<span class="token punctuation">(</span>t<span class="token punctuation">)</span>

curve_fitting <span class="token operator">=</span> l2a_bands<span class="token punctuation">.</span>fit_curve<span class="token punctuation">(</span>
    parameters<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment"># Initial guess of the parameters</span>
    dimension<span class="token operator">=</span><span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span>      <span class="token comment"># Fit the function along the temporal dimension</span>
    function<span class="token operator">=</span>fitFunction
<span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 31557600 are the seconds in one year</span>
<span class="token keyword">let</span> fitFunction <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Formula</span><span class="token punctuation">(</span><span class="token string">'$$0 + $$1*cos(2*pi()/31557600*x) + $$2*sin(2*pi()/31557600*x)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

curve_fitting <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">fit_curve</span><span class="token punctuation">(</span>
    l2a_bands<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Initial guess of the parameters</span>
    fitFunction<span class="token punctuation">,</span>
    <span class="token string">'t'</span><span class="token punctuation">,</span> <span class="token comment">// Fit the function along the temporal dimension</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <h2 id="predicting-values"><a href="#predicting-values" class="header-anchor">#</a> Predicting values</h2> <p>With the seasonal function coefficients, we can predict the expected value for a particular time step. In the following case, we are computing the values following the seasonal trend for the training time steps:</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code>temporal_labels <span class="token operator">=</span> l2a_bands<span class="token punctuation">.</span>dimension_labels<span class="token punctuation">(</span><span class="token string">'t'</span><span class="token punctuation">)</span>
curve_prediction <span class="token operator">=</span> l2a_bands<span class="token punctuation">.</span>predict_curve<span class="token punctuation">(</span>parameters<span class="token operator">=</span>curve_fitting<span class="token punctuation">,</span>dimension<span class="token operator">=</span><span class="token string">'t'</span><span class="token punctuation">,</span>function<span class="token operator">=</span>fitFunction<span class="token punctuation">,</span>labels<span class="token operator">=</span>temporal_labels<span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code>temporal_labels <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">dimension_labels</span><span class="token punctuation">(</span>l2a_bands<span class="token punctuation">,</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
curve_prediction <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">predict_curve</span><span class="token punctuation">(</span>l2a_bands<span class="token punctuation">,</span> curve_fitting<span class="token punctuation">,</span> fitFunction<span class="token punctuation">,</span> <span class="token string">'t'</span><span class="token punctuation">,</span> temporal_labels<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <p>The difference between the training data and the predicted values following the seasonal model is a key information, which is used to perform the change detection with new data. Please have a look at the <a href="https://github.com/openEOPlatform/SRR2_notebooks/blob/main/UC6%20-%20Forest%20Dynamics.ipynb" target="_blank" rel="noopener noreferrer">reference notebook<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for the complete pipeline.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/openEOPlatform/documentation/edit/main/usecases/forest-change-detection/index.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/14/2021, 9:55:05 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.330cd5f2.js" defer></script><script src="/assets/js/18.b8bd49c2.js" defer></script><script src="/assets/js/13.2f31f572.js" defer></script><script src="/assets/js/47.a8bde7b8.js" defer></script><script src="/assets/js/32.d1a64918.js" defer></script>
  </body>
</html>
