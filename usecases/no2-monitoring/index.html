<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NO₂ monitoring | openEO Platform Documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="One of the most important properties for a future-oriented platform on earth observation is the orientation towards simple operation, with a special focus on efficiency of evaluation and availability. Complexity is kept hidden in the background to direct your focus on the data. This is done on one hand by the use of an aggregate API to access the infrastructure, but also by improved user-faced graphical processing. For access to the API, the user has the option to incorporate his own preferences, by choosing between several clients.">
    
    <link rel="preload" href="/assets/css/0.styles.ca0b67be.css" as="style"><link rel="preload" href="/assets/js/app.55c107a2.js" as="script"><link rel="preload" href="/assets/js/11.d1ae8158.js" as="script"><link rel="preload" href="/assets/js/5.747ed92c.js" as="script"><link rel="preload" href="/assets/js/54.022a4dda.js" as="script"><link rel="preload" href="/assets/js/57.f55300dc.js" as="script"><link rel="prefetch" href="/assets/js/1.36467955.js"><link rel="prefetch" href="/assets/js/10.f6ba118e.js"><link rel="prefetch" href="/assets/js/12.2b99796f.js"><link rel="prefetch" href="/assets/js/13.a560c1b3.js"><link rel="prefetch" href="/assets/js/14.da04c5cf.js"><link rel="prefetch" href="/assets/js/15.51a03107.js"><link rel="prefetch" href="/assets/js/16.6b7acad1.js"><link rel="prefetch" href="/assets/js/17.99757c46.js"><link rel="prefetch" href="/assets/js/18.e3bbd7ce.js"><link rel="prefetch" href="/assets/js/2.f32c11b5.js"><link rel="prefetch" href="/assets/js/21.e6d2d352.js"><link rel="prefetch" href="/assets/js/22.1683588a.js"><link rel="prefetch" href="/assets/js/23.5310517a.js"><link rel="prefetch" href="/assets/js/24.fc4785ea.js"><link rel="prefetch" href="/assets/js/25.4d35815b.js"><link rel="prefetch" href="/assets/js/26.7290affa.js"><link rel="prefetch" href="/assets/js/27.a00e8359.js"><link rel="prefetch" href="/assets/js/28.d56c49d6.js"><link rel="prefetch" href="/assets/js/29.0c9e662b.js"><link rel="prefetch" href="/assets/js/3.84222e36.js"><link rel="prefetch" href="/assets/js/30.a75efed2.js"><link rel="prefetch" href="/assets/js/31.c2553a2d.js"><link rel="prefetch" href="/assets/js/32.bb8c1641.js"><link rel="prefetch" href="/assets/js/33.75e4a358.js"><link rel="prefetch" href="/assets/js/34.0c886592.js"><link rel="prefetch" href="/assets/js/35.fbb59369.js"><link rel="prefetch" href="/assets/js/36.eefefe2a.js"><link rel="prefetch" href="/assets/js/37.36ae5a4a.js"><link rel="prefetch" href="/assets/js/38.7bf28af1.js"><link rel="prefetch" href="/assets/js/39.1ccf620d.js"><link rel="prefetch" href="/assets/js/4.31030422.js"><link rel="prefetch" href="/assets/js/40.db53fafa.js"><link rel="prefetch" href="/assets/js/41.d351fe5b.js"><link rel="prefetch" href="/assets/js/42.3db116a9.js"><link rel="prefetch" href="/assets/js/43.86fec58a.js"><link rel="prefetch" href="/assets/js/44.a7954a4f.js"><link rel="prefetch" href="/assets/js/45.e8f03d76.js"><link rel="prefetch" href="/assets/js/46.d52ee7d4.js"><link rel="prefetch" href="/assets/js/47.d7480953.js"><link rel="prefetch" href="/assets/js/48.eb5ce9e4.js"><link rel="prefetch" href="/assets/js/49.d6839edb.js"><link rel="prefetch" href="/assets/js/50.21b40e02.js"><link rel="prefetch" href="/assets/js/51.6fbcf6ee.js"><link rel="prefetch" href="/assets/js/52.ecbe41fe.js"><link rel="prefetch" href="/assets/js/53.432fb0b2.js"><link rel="prefetch" href="/assets/js/55.e686c637.js"><link rel="prefetch" href="/assets/js/56.d488cac7.js"><link rel="prefetch" href="/assets/js/58.e1221eb2.js"><link rel="prefetch" href="/assets/js/59.988807d9.js"><link rel="prefetch" href="/assets/js/6.89677a3a.js"><link rel="prefetch" href="/assets/js/60.3a068ab1.js"><link rel="prefetch" href="/assets/js/61.e73c30b3.js"><link rel="prefetch" href="/assets/js/62.3bac0292.js"><link rel="prefetch" href="/assets/js/63.5ee7792d.js"><link rel="prefetch" href="/assets/js/64.cf2fc7ce.js"><link rel="prefetch" href="/assets/js/65.bc2e59ff.js"><link rel="prefetch" href="/assets/js/66.a820892d.js"><link rel="prefetch" href="/assets/js/67.ba63c43c.js"><link rel="prefetch" href="/assets/js/68.36e9dd50.js"><link rel="prefetch" href="/assets/js/69.f8bcad56.js"><link rel="prefetch" href="/assets/js/7.1da41996.js"><link rel="prefetch" href="/assets/js/70.247d49e9.js"><link rel="prefetch" href="/assets/js/71.209f29c0.js"><link rel="prefetch" href="/assets/js/72.facf17ae.js"><link rel="prefetch" href="/assets/js/73.edf8004d.js"><link rel="prefetch" href="/assets/js/74.19728fbb.js"><link rel="prefetch" href="/assets/js/75.25aa293a.js"><link rel="prefetch" href="/assets/js/76.34c66f5a.js"><link rel="prefetch" href="/assets/js/77.d600039d.js"><link rel="prefetch" href="/assets/js/78.765c343d.js"><link rel="prefetch" href="/assets/js/79.abd3200f.js"><link rel="prefetch" href="/assets/js/8.17723128.js"><link rel="prefetch" href="/assets/js/80.97a03029.js"><link rel="prefetch" href="/assets/js/81.42bd81b5.js"><link rel="prefetch" href="/assets/js/82.ea234dee.js"><link rel="prefetch" href="/assets/js/9.1167f966.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.908efe7e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ca0b67be.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://openeo.cloud/wp-content/themes/openeo_platform/images/logo-pages.svg" alt="openEO Platform Documentation" class="logo"> <span class="site-name can-hide">openEO Platform Documentation</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/data-collections/" class="nav-link">
  Datasets
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Get Started" class="dropdown-title"><span class="title">Get Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Get Started" class="mobile-dropdown-title"><span class="title">Get Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/join/free_trial.html" class="nav-link">
  Free Trial Registration
</a></li><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/datacubes.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data Cubes
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Client Libraries
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/getting-started/python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/getting-started/r/" class="nav-link">
  R
</a></li></ul></li><li class="dropdown-item"><h4>
          Development Environments
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/jupyterlab/" class="nav-link">
  JupyterLab (Python)
</a></li><li class="dropdown-subitem"><a href="/getting-started/editor/" class="nav-link">
  Editor
</a></li></ul></li><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/getting-started/client-side-processing/" class="nav-link">
  Client-Side Processing (Python)
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Clients" class="dropdown-title"><span class="title">Clients</span> <span class="arrow down"></span></button> <button type="button" aria-label="Clients" class="mobile-dropdown-title"><span class="title">Clients</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://open-eo.github.io/openeo-js-client/latest/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://open-eo.github.io/openeo-python-client/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Python
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://open-eo.github.io/openeo-r-client/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  R
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use Cases" class="dropdown-title"><span class="title">Use Cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use Cases" class="mobile-dropdown-title"><span class="title">Use Cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Analysis-Ready Data (ARD)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/usecases/ard/" class="nav-link">
  Overview
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/sar/" class="nav-link">
  SAR (Sentinel-1)
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/msi/" class="nav-link">
  Multi-Spectral Imagery
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/usecases/crop-classification/" class="nav-link">
  Crop Classification
</a></li><li class="dropdown-item"><!----> <a href="/usecases/forest-change-detection/" class="nav-link">
  Forest Change Detection
</a></li><li class="dropdown-item"><!----> <a href="/usecases/landcover/" class="nav-link">
  Land Cover Classification
</a></li><li class="dropdown-item"><!----> <a href="/usecases/no2-monitoring/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  NO₂ monitoring
</a></li><li class="dropdown-item"><!----> <a href="/usecases/large-scale-processing/" class="nav-link">
  Large scale processing
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Processes" class="dropdown-title"><span class="title">Processes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Processes" class="mobile-dropdown-title"><span class="title">Processes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/processes/" class="nav-link">
  JavaScript &amp; R
</a></li><li class="dropdown-item"><!----> <a href="https://open-eo.github.io/openeo-python-client/api.html#module-openeo.rest.datacube" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Python
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/file-formats/" class="nav-link">
  File Formats
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Advanced" class="dropdown-title"><span class="title">Advanced</span> <span class="arrow down"></span></button> <button type="button" aria-label="Advanced" class="mobile-dropdown-title"><span class="title">Advanced</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/federation/accounting.html" class="nav-link">
  Accounting
</a></li><li class="dropdown-item"><!----> <a href="/federation/index.html" class="nav-link">
  Federation Aspects
</a></li><li class="dropdown-item"><!----> <a href="/federation/backends/index.html" class="nav-link">
  Federation Contract
</a></li><li class="dropdown-item"><!----> <a href="/api/" class="nav-link">
  HTTP API
</a></li></ul></div></div><div class="nav-item"><a href="https://openeo.cloud/contact/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/data-collections/" class="nav-link">
  Datasets
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Get Started" class="dropdown-title"><span class="title">Get Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Get Started" class="mobile-dropdown-title"><span class="title">Get Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/join/free_trial.html" class="nav-link">
  Free Trial Registration
</a></li><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/datacubes.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data Cubes
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Client Libraries
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/getting-started/python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/getting-started/r/" class="nav-link">
  R
</a></li></ul></li><li class="dropdown-item"><h4>
          Development Environments
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/jupyterlab/" class="nav-link">
  JupyterLab (Python)
</a></li><li class="dropdown-subitem"><a href="/getting-started/editor/" class="nav-link">
  Editor
</a></li></ul></li><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/getting-started/client-side-processing/" class="nav-link">
  Client-Side Processing (Python)
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Clients" class="dropdown-title"><span class="title">Clients</span> <span class="arrow down"></span></button> <button type="button" aria-label="Clients" class="mobile-dropdown-title"><span class="title">Clients</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://open-eo.github.io/openeo-js-client/latest/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://open-eo.github.io/openeo-python-client/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Python
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://open-eo.github.io/openeo-r-client/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  R
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use Cases" class="dropdown-title"><span class="title">Use Cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use Cases" class="mobile-dropdown-title"><span class="title">Use Cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Analysis-Ready Data (ARD)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/usecases/ard/" class="nav-link">
  Overview
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/sar/" class="nav-link">
  SAR (Sentinel-1)
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/msi/" class="nav-link">
  Multi-Spectral Imagery
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/usecases/crop-classification/" class="nav-link">
  Crop Classification
</a></li><li class="dropdown-item"><!----> <a href="/usecases/forest-change-detection/" class="nav-link">
  Forest Change Detection
</a></li><li class="dropdown-item"><!----> <a href="/usecases/landcover/" class="nav-link">
  Land Cover Classification
</a></li><li class="dropdown-item"><!----> <a href="/usecases/no2-monitoring/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  NO₂ monitoring
</a></li><li class="dropdown-item"><!----> <a href="/usecases/large-scale-processing/" class="nav-link">
  Large scale processing
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Processes" class="dropdown-title"><span class="title">Processes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Processes" class="mobile-dropdown-title"><span class="title">Processes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/processes/" class="nav-link">
  JavaScript &amp; R
</a></li><li class="dropdown-item"><!----> <a href="https://open-eo.github.io/openeo-python-client/api.html#module-openeo.rest.datacube" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Python
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/file-formats/" class="nav-link">
  File Formats
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Advanced" class="dropdown-title"><span class="title">Advanced</span> <span class="arrow down"></span></button> <button type="button" aria-label="Advanced" class="mobile-dropdown-title"><span class="title">Advanced</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/federation/accounting.html" class="nav-link">
  Accounting
</a></li><li class="dropdown-item"><!----> <a href="/federation/index.html" class="nav-link">
  Federation Aspects
</a></li><li class="dropdown-item"><!----> <a href="/federation/backends/index.html" class="nav-link">
  Federation Contract
</a></li><li class="dropdown-item"><!----> <a href="/api/" class="nav-link">
  HTTP API
</a></li></ul></div></div><div class="nav-item"><a href="https://openeo.cloud/contact/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>NO₂ monitoring</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/usecases/no2-monitoring/#shiny-apps-r-and-python" class="sidebar-link">Shiny apps (R and Python)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#time-series-analyser" class="sidebar-link">Time-Series Analyser</a></li><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#map-maker-for-one-snapshot" class="sidebar-link">Map Maker for one Snapshot</a></li><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#spacetime-animation" class="sidebar-link">Spacetime Animation</a></li></ul></li><li><a href="/usecases/no2-monitoring/#basic-no2-analysis-in-python-r-and-javascript" class="sidebar-link">Basic NO₂ analysis in Python, R and JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#_1-load-a-data-cube" class="sidebar-link">1. Load a data cube</a></li><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#_2-fill-gaps" class="sidebar-link">2. Fill gaps</a></li><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#_3-smoothen-values-optional" class="sidebar-link">3. Smoothen values (optional)</a></li><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#_4-what-do-you-want-to-know" class="sidebar-link">4. What do you want to know?</a></li><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#_5-execute-the-process" class="sidebar-link">5. Execute the process</a></li><li class="sidebar-sub-header"><a href="/usecases/no2-monitoring/#result" class="sidebar-link">Result</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="no2-monitoring"><a href="#no2-monitoring" class="header-anchor">#</a> NO₂ monitoring</h1> <p><a href="https://sentinels.copernicus.eu/web/sentinel/missions/sentinel-5p/instrumental-payload" target="_blank" rel="noopener noreferrer">TROPOMI (<strong>TROPO</strong>spheric <strong>M</strong>onitoring <strong>I</strong>nstrument)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is the name of a sensor on board of the <a href="https://sentinels.copernicus.eu/web/sentinel/missions/sentinel-5p" target="_blank" rel="noopener noreferrer">Sentinel-5 Precursor (S5P) satellite<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, developed to monitor atmospheric chemistry.</p> <p>This use case analyses Sentinel 5P imagery, focusing in particular on NO₂ measurements. Compared to other variables measured by TROPOMI, NO₂ is of high interest not only because of its direct relation with environmental health, but also because the main sources are typically known, because it is not transported over long distances and because the total column values measured by TROPOMI are strong indication of the ground level values.</p> <p>This document describes how to analyze NO₂ data on openEO Platform using the Python, JavaScript and R client.
Additionally, we've prepared <a href="https://github.com/openEOPlatform/sample-notebooks/blob/main/sentinel-5p.ipynb" target="_blank" rel="noopener noreferrer">a basic Jupyter Notebook<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for Python and much more advanced R and Python Shiny apps that you can run to analyze and visualize the NO₂ data in various ways.</p> <h2 id="shiny-apps-r-and-python"><a href="#shiny-apps-r-and-python" class="header-anchor">#</a> Shiny apps (R and Python)</h2> <p>In the Shiny app the NO₂ values can be analyzed globally over a full year. The analysis allows the user to set threshold values for the cloud cover. Gaps due to the cloud removal are filled by a linear interpolation. Noise gets removed by computing 30-day smoothed values, using kernel smoothing of the time series.</p> <p>The Shiny app allows for three different modes:</p> <ul><li>Time series analysis / comparison against locally measured data</li> <li>Map visualization for individual days</li> <li>Animated maps that highlight differences in space and time</li></ul> <p>Currently, the Shiny apps can only run on your local computer but we are looking into offering a hosted version, too. There's also <a href="/getting-started/python/shiny.html">a guide that explains how to run openEO code in a Python Shiny app in general</a>.</p> <p>You can find the full source code and documentation of the apps in their respective repositories:</p> <ul><li><a href="https://github.com/Open-EO/r4openeo-usecases/tree/main/uc3-s5p-dashboard" target="_blank" rel="noopener noreferrer">R Shiny app repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/openEOPlatform/s5p-py-dashboard" target="_blank" rel="noopener noreferrer">Python Shiny app repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="time-series-analyser"><a href="#time-series-analyser" class="header-anchor">#</a> Time-Series Analyser</h3> <p>The Time-Series Analyser allows one to see the &quot;reduced&quot;  time series (min/max/smoothed mean) of Sentinel 5P NO2 data from a given region. Basically, to use this function, the user can pass the coordinates of the bounding box of the area of interest, which are shown in a dynamic map; but also the time frame and the cloud cover to be considered in the computation. The analyser can also do a comparison against locally measured data (for selected areas only).</p> <h3 id="map-maker-for-one-snapshot"><a href="#map-maker-for-one-snapshot" class="header-anchor">#</a> Map Maker for one Snapshot</h3> <p>If the user desires to look at NO2 data at one given point in time, this function is the developed for this purpose. This second  option in the Shiny app allows one to visualize how does a country's pattern in NO2 looks like in a given time, following S5P NO2 data.</p> <h3 id="spacetime-animation"><a href="#spacetime-animation" class="header-anchor">#</a> Spacetime Animation</h3> <p>Here, the user can create and visualise their own  spatio-temporal animation of S5P NO2 data. Given a starting and ending  date, as well as the quality flag for cloud cover and a given country  name, the user may have their own personalised spacetime GIF ready for  their usage.</p> <p><img src="https://github.com/Open-EO/r4openeo-usecases/raw/main/uc3-s5p-dashboard/image/spacetime-animation.gif" alt="Spacetime animation generated by the dashboard"></p> <h2 id="basic-no2-analysis-in-python-r-and-javascript"><a href="#basic-no2-analysis-in-python-r-and-javascript" class="header-anchor">#</a> Basic NO₂ analysis in Python, R and JavaScript</h2> <p>openEO Platform has multiple collections that offer Sentinel-5P data, e.g. for NO₂:</p> <ul><li><a href="https://openeo.cloud/data-collections/view/?id=TERRASCOPE_S5P_L3_NO2_TD_V1" target="_blank" rel="noopener noreferrer">TERRASCOPE_S5P_L3_NO2_TD_V1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - daily, hosted by VITO, pre-processed to remove clouds etc.</li> <li><a href="https://openeo.cloud/data-collections/view/?id=TERRASCOPE_S5P_L3_NO2_TM_V1" target="_blank" rel="noopener noreferrer">TERRASCOPE_S5P_L3_NO2_TD_V1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - monthly, hosted by VITO, pre-processed to remove clouds etc.</li> <li><a href="https://openeo.cloud/data-collections/view/?id=TERRASCOPE_S5P_L3_NO2_TY_V1" target="_blank" rel="noopener noreferrer">TERRASCOPE_S5P_L3_NO2_TD_V1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - yearly, hosted by VITO, pre-processed to remove clouds etc.</li> <li><a href="https://openeo.cloud/data-collections/view/?id=SENTINEL_5P_L2" target="_blank" rel="noopener noreferrer">SENTINEL_5P_L2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - Level 2 data, hosted by Sentinel Hub</li></ul> <p><code>SENTINEL_5P_L2</code> also contains additional data such as CO, O₂, SO₂ and you can also experiment with those. CO is also available on VITO in Collections such as <code>TERRASCOPE_S5P_L3_CO_TD_V1</code>.</p> <p>In this example we'll use the daily composites from the <code>TERRASCOPE_S5P_L3_NO2_TD_V1</code> collection, which is available starting from end of April 2018.</p> <h3 id="_1-load-a-data-cube"><a href="#_1-load-a-data-cube" class="header-anchor">#</a> 1. Load a data cube</h3> <div class="custom-block warning"><p class="custom-block-title">Attention</p> <p>This tutorial assumes you have completed the Getting Started guides and are connected and logged in to openEO Platform.
Your connection object should be stored in a variable named <code>connection</code>.</p></div> <p>First of all, we need to load the data into a datacube. We set the temporal extent to the year 2019 and choose spatial extent, here an area over Münster, Germany.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li><li> R
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code>year <span class="token operator">=</span> <span class="token number">2019</span>
extent <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment"># Münster</span>
    <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Polygon&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;coordinates&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token number">7.737228350528245</span><span class="token punctuation">,</span><span class="token number">51.86687168604513</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">7.507741544165615</span><span class="token punctuation">,</span><span class="token number">51.86687168604513</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">7.507741544165615</span><span class="token punctuation">,</span><span class="token number">52.05013100121914</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">7.737228350528245</span><span class="token punctuation">,</span><span class="token number">52.05013100121914</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">7.737228350528245</span><span class="token punctuation">,</span><span class="token number">51.86687168604513</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
datacube <span class="token operator">=</span> connection<span class="token punctuation">.</span>load_collection<span class="token punctuation">(</span>
    <span class="token string">&quot;TERRASCOPE_S5P_L3_NO2_TD_V1&quot;</span><span class="token punctuation">,</span>
    spatial_extent <span class="token operator">=</span> extent<span class="token punctuation">,</span>
    temporal_extent <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>year<span class="token punctuation">}</span></span><span class="token string">-01-01&quot;</span></span><span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>year<span class="token punctuation">}</span></span><span class="token string">-12-31&quot;</span></span><span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> builder <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">buildProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> year <span class="token operator">=</span> <span class="token number">2019</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> extent <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// Münster</span>
    <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Polygon&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;coordinates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token number">7.737228350528245</span><span class="token punctuation">,</span><span class="token number">51.86687168604513</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">7.507741544165615</span><span class="token punctuation">,</span><span class="token number">51.86687168604513</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">7.507741544165615</span><span class="token punctuation">,</span><span class="token number">52.05013100121914</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">7.737228350528245</span><span class="token punctuation">,</span><span class="token number">52.05013100121914</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">7.737228350528245</span><span class="token punctuation">,</span><span class="token number">51.86687168604513</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> datacube <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">load_collection</span><span class="token punctuation">(</span>
  <span class="token string">&quot;TERRASCOPE_S5P_L3_NO2_TD_V1&quot;</span><span class="token punctuation">,</span> extent<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-01-01</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-12-31</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-r extra-class"><pre class="language-r"><code>p <span class="token operator">=</span> processes<span class="token punctuation">(</span><span class="token punctuation">)</span>

year <span class="token operator">=</span> <span class="token string">&quot;2019&quot;</span>
extent <span class="token operator">=</span> list<span class="token punctuation">(</span> <span class="token comment"># Münster</span>
  <span class="token string">&quot;type&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;Polygon&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;coordinates&quot;</span> <span class="token operator">=</span> list<span class="token punctuation">(</span>list<span class="token punctuation">(</span>
    list<span class="token punctuation">(</span><span class="token number">5.9521131313239675</span><span class="token punctuation">,</span> <span class="token number">51.78636868072434</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    list<span class="token punctuation">(</span><span class="token number">5.971674074614773</span><span class="token punctuation">,</span> <span class="token number">50.52897921775278</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    list<span class="token punctuation">(</span><span class="token number">9.893643204421315</span><span class="token punctuation">,</span> <span class="token number">50.609735254808925</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    list<span class="token punctuation">(</span><span class="token number">9.864301789485104</span><span class="token punctuation">,</span> <span class="token number">51.870991335721925</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    list<span class="token punctuation">(</span><span class="token number">5.9521131313239675</span><span class="token punctuation">,</span> <span class="token number">51.78636868072434</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
datacube <span class="token operator">=</span> p<span class="token operator">$</span>load_collection<span class="token punctuation">(</span>
  id <span class="token operator">=</span> <span class="token string">&quot;TERRASCOPE_S5P_L3_NO2_TD_V1&quot;</span><span class="token punctuation">,</span>
  spatial_extent <span class="token operator">=</span> extent<span class="token punctuation">,</span>
  temporal_extent <span class="token operator">=</span> list<span class="token punctuation">(</span>paste<span class="token punctuation">(</span>year<span class="token punctuation">,</span> <span class="token string">&quot;-01-01&quot;</span><span class="token punctuation">,</span> sep <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> paste<span class="token punctuation">(</span>year<span class="token punctuation">,</span> <span class="token string">&quot;-12-31&quot;</span><span class="token punctuation">,</span> sep <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div></div></div> <h3 id="_2-fill-gaps"><a href="#_2-fill-gaps" class="header-anchor">#</a> 2. Fill gaps</h3> <p>The data cube may contain no-data values due to the removal of clouds in the pre-processing of the collection.
We'll apply a linear interpolation along the temporal dimension:</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li><li> R
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code>datacube <span class="token operator">=</span> datacube<span class="token punctuation">.</span>apply_dimension<span class="token punctuation">(</span>dimension <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span> process <span class="token operator">=</span> <span class="token string">&quot;array_interpolate_linear&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">interpolate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> _<span class="token punctuation">,</span> builder</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> builder<span class="token punctuation">.</span><span class="token function">array_interpolate_linear</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
datacube <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">apply_dimension</span><span class="token punctuation">(</span>datacube<span class="token punctuation">,</span> interpolate<span class="token punctuation">,</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-r extra-class"><pre class="language-r"><code>interpolate <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  p<span class="token operator">$</span>array_interpolate_linear<span class="token punctuation">(</span>data <span class="token operator">=</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
datacube <span class="token operator">=</span> p<span class="token operator">$</span>apply_dimension<span class="token punctuation">(</span>data <span class="token operator">=</span> datacube<span class="token punctuation">,</span> dimension <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span> process <span class="token operator">=</span> interpolate<span class="token punctuation">)</span>
</code></pre></div></div></div> <h3 id="_3-smoothen-values-optional"><a href="#_3-smoothen-values-optional" class="header-anchor">#</a> 3. Smoothen values (optional)</h3> <p>If you want to smoothen the values to get rid of noise for example, we can run a moving average over a certain amount of days over the temporal dimension.
If you want to work on the raw values, you can also omit this step.
The <code>moving_average_window</code> variable specifies the smoothing in number of days.
You can choose it freely, but it needs to be an odd integer &gt;= 3.
In the example below 31 was chosen to smooth the timeseries with a moving average of a full month.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li><li> R
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code>moving_average_window <span class="token operator">=</span> <span class="token number">31</span>
udf <span class="token operator">=</span> openeo<span class="token punctuation">.</span>UDF<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;
from pandas import Series
import numpy as np

def apply_timeseries(series: Series, context: dict) -&gt; Series:
    return np.convolve(series, np.ones({n})/{n}, mode='same')
&quot;&quot;&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>n <span class="token operator">=</span> moving_average_window<span class="token punctuation">)</span><span class="token punctuation">)</span>
datacube <span class="token operator">=</span> datacube<span class="token punctuation">.</span>apply_dimension<span class="token punctuation">(</span>dimension <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span> process <span class="token operator">=</span> udf<span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> moving_average_window <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> udf <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
from pandas import Series
import numpy as np

def apply_timeseries(series: Series, context: dict) -&gt; Series:
    return np.convolve(series, np.ones(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>moving_average_window<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>moving_average_window<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, mode='same')
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">run</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> _<span class="token punctuation">,</span> builder</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> builder<span class="token punctuation">.</span><span class="token function">run_udf</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> udf<span class="token punctuation">,</span> <span class="token string">&quot;Python&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
datacube <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">apply_dimension</span><span class="token punctuation">(</span>datacube<span class="token punctuation">,</span> run<span class="token punctuation">,</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-r extra-class"><pre class="language-r"><code>moving_average_window <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span>
udf <span class="token operator">=</span> &quot;
from pandas import Series
import numpy as np

def apply_timeseries<span class="token punctuation">(</span>series<span class="token operator">:</span> Series<span class="token punctuation">,</span> context<span class="token operator">:</span> dict<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Series<span class="token operator">:</span>
  return np.convolve<span class="token punctuation">(</span>series<span class="token punctuation">,</span> np.ones<span class="token punctuation">(</span>NN<span class="token punctuation">)</span><span class="token operator">/</span>NN<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">)</span>
&quot;
run <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  p<span class="token operator">$</span>run_udf<span class="token punctuation">(</span>data <span class="token operator">=</span> data<span class="token punctuation">,</span> runtime <span class="token operator">=</span> <span class="token string">&quot;Python&quot;</span><span class="token punctuation">,</span> udf <span class="token operator">=</span> gsub<span class="token punctuation">(</span><span class="token string">&quot;NN&quot;</span><span class="token punctuation">,</span> moving_average_window<span class="token punctuation">,</span> udf<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
datacube <span class="token operator">=</span> p<span class="token operator">$</span>apply_dimension<span class="token punctuation">(</span>data <span class="token operator">=</span> datacube<span class="token punctuation">,</span> dimension <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span> process <span class="token operator">=</span> run<span class="token punctuation">)</span>
</code></pre></div></div></div> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p>A technical detail here is that we run the moving average as a Python UDF, which is custom Python code.
We don't have a pre-defined process in openEO yet that easily allows this and as such we fall back to a UDF.
We embed the Python code in a string in this example so that you can easily copy the code, but ideally
you'd store it in a file and load the UDF from there.</p> <p>The Python UDF code (for all client languages!) itself is pretty simple:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> pandas <span class="token keyword">import</span> Series
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

N <span class="token operator">=</span> <span class="token number">31</span>
<span class="token keyword">def</span> <span class="token function">apply_timeseries</span><span class="token punctuation">(</span>series<span class="token punctuation">:</span> Series<span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Series<span class="token punctuation">:</span>
  <span class="token keyword">return</span> np<span class="token punctuation">.</span>convolve<span class="token punctuation">(</span>series<span class="token punctuation">,</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token operator">/</span>N<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">)</span>
</code></pre></div></div> <h3 id="_4-what-do-you-want-to-know"><a href="#_4-what-do-you-want-to-know" class="header-anchor">#</a> 4. What do you want to know?</h3> <p>Now it's time to decide what we actually want to compute and get an insight into.</p> <p>Currently, the data cube at still has 4 dimensions:
The spatial dimensions <code>x</code> and <code>y</code> covering the extent of Münster,
the temporal dimension <code>t</code> covering usually about 365 values of the given year, and
the band dimension <code>bands</code> with just a single label <code>NO2</code>.</p> <p>As the <code>bands</code> dimension only has a single label it gets dropped automatically during export,
which means we now basically have a series of NO₂ maps, one for each day.
We have several options now:</p> <ol><li>Store the daily maps as netCDF file</li> <li>Reduce the temporal dimension to get a single map for the year as GeoTIff</li> <li>Reduce the spatial dimensions to get a timeseries as JSON</li></ol> <h4 id="_4-1-netcdf-export"><a href="#_4-1-netcdf-export" class="header-anchor">#</a> 4.1 netCDF Export</h4> <p>To store daily maps in a netCDF file, we simply need to store the datacube:</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li><li> R
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code>datacube <span class="token operator">=</span> datacube<span class="token punctuation">.</span>save_result<span class="token punctuation">(</span><span class="token builtin">format</span> <span class="token operator">=</span> <span class="token string">&quot;netCDF&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code>datacube <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">save_result</span><span class="token punctuation">(</span>datacube<span class="token punctuation">,</span> <span class="token string">&quot;netCDF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-r extra-class"><pre class="language-r"><code>datacube <span class="token operator">=</span> p<span class="token operator">$</span>save_result<span class="token punctuation">(</span>data <span class="token operator">=</span> datacube<span class="token punctuation">,</span> format <span class="token operator">=</span> <span class="token string">&quot;netCDF&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div></div> <h4 id="_4-2-map-for-a-year-as-geotiff"><a href="#_4-2-map-for-a-year-as-geotiff" class="header-anchor">#</a> 4.2 Map for a year as GeoTiff</h4> <p>To get a map with values for a year we need to reduce the temporal dimensions by reducing the values along the temporal dimension.
You can run different reducers such as <code>mean</code> (in the example below), <code>max</code> or <code>min</code> so that
we get a single value for each pixel.</p> <p>Lastly, you need to specify that you want to store the result as GeoTiff (<code>GTiff</code> due to the naming in GDAL).</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li><li> R
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code>datacube <span class="token operator">=</span> datacube<span class="token punctuation">.</span>reduce_dimension<span class="token punctuation">(</span>reducer <span class="token operator">=</span> <span class="token string">&quot;mean&quot;</span><span class="token punctuation">,</span> dimension <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span>
datacube <span class="token operator">=</span> datacube<span class="token punctuation">.</span>save_result<span class="token punctuation">(</span><span class="token builtin">format</span> <span class="token operator">=</span> <span class="token string">&quot;GTiff&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> _<span class="token punctuation">,</span> builder</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> builder<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
datacube <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">reduce_dimension</span><span class="token punctuation">(</span>datacube<span class="token punctuation">,</span> reducer<span class="token punctuation">,</span> dimension <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
datacube <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">save_result</span><span class="token punctuation">(</span>datacube<span class="token punctuation">,</span> <span class="token string">&quot;GTiff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-r extra-class"><pre class="language-r"><code>reducer <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  p<span class="token operator">$</span>mean<span class="token punctuation">(</span>data <span class="token operator">=</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
datacube <span class="token operator">=</span> p<span class="token operator">$</span>reduce_dimension<span class="token punctuation">(</span>data <span class="token operator">=</span> datacube<span class="token punctuation">,</span> reducer <span class="token operator">=</span> reducer<span class="token punctuation">,</span> dimension <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span>
datacube <span class="token operator">=</span> p<span class="token operator">$</span>save_result<span class="token punctuation">(</span>data <span class="token operator">=</span> datacube<span class="token punctuation">,</span> format <span class="token operator">=</span> <span class="token string">&quot;GTiff&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div></div> <h4 id="_4-3-timeseries-as-json"><a href="#_4-3-timeseries-as-json" class="header-anchor">#</a> 4.3 Timeseries as JSON</h4> <p>To get a timeseries we need to reduce the spatial dimensions by aggregating them.
You can run different aggregation methods such as <code>mean</code> (in the example below), <code>max</code> or <code>min</code> so that
we get a single value for each timestep.</p> <p>Lastly, you need to specify that you want to store the result as JSON.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li><li> R
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code>datacube <span class="token operator">=</span> datacube<span class="token punctuation">.</span>aggregate_spatial<span class="token punctuation">(</span>geometries <span class="token operator">=</span> extent<span class="token punctuation">,</span> reducer <span class="token operator">=</span> <span class="token string">&quot;mean&quot;</span><span class="token punctuation">)</span>
datacube <span class="token operator">=</span> datacube<span class="token punctuation">.</span>save_result<span class="token punctuation">(</span><span class="token builtin">format</span> <span class="token operator">=</span> <span class="token string">&quot;JSON&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> _<span class="token punctuation">,</span> builder</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> builder<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
datacube <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">aggregate_spatial</span><span class="token punctuation">(</span>datacube<span class="token punctuation">,</span> extent<span class="token punctuation">,</span> reducer<span class="token punctuation">)</span><span class="token punctuation">;</span>
datacube <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">save_result</span><span class="token punctuation">(</span>datacube<span class="token punctuation">,</span> <span class="token string">&quot;JSON&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-r extra-class"><pre class="language-r"><code>reducer <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  p<span class="token operator">$</span>mean<span class="token punctuation">(</span>data <span class="token operator">=</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
datacube <span class="token operator">=</span> p<span class="token operator">$</span>aggregate_spatial<span class="token punctuation">(</span>data <span class="token operator">=</span> datacube<span class="token punctuation">,</span> geometries <span class="token operator">=</span> extent<span class="token punctuation">,</span> reducer <span class="token operator">=</span> reducer<span class="token punctuation">)</span>
datacube <span class="token operator">=</span> p<span class="token operator">$</span>save_result<span class="token punctuation">(</span>data <span class="token operator">=</span> datacube<span class="token punctuation">,</span> format <span class="token operator">=</span> <span class="token string">&quot;JSON&quot;</span><span class="token punctuation">)</span>
</code></pre></div></div></div> <h3 id="_5-execute-the-process"><a href="#_5-execute-the-process" class="header-anchor">#</a> 5. Execute the process</h3> <p>Regardless of which of the options you chose in chapter 4, you can now send the process
to the backend and compute the result.
From simplicity, we simply execute it synchronously and store the result in memory.
For the GeoTiff and netCDF files you may want to store them into files though.
The JSON output you could directly work with.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li><li> R
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code>results <span class="token operator">=</span> connection<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>datacube<span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> connection<span class="token punctuation">.</span><span class="token function">computeResult</span><span class="token punctuation">(</span>datacube<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-r extra-class"><pre class="language-r"><code>result <span class="token operator">=</span> compute_result<span class="token punctuation">(</span>graph <span class="token operator">=</span> datacube<span class="token punctuation">)</span>
</code></pre></div></div></div> <h3 id="result"><a href="#result" class="header-anchor">#</a> Result</h3> <p>If you'd visualize the results of running the timeseries analysis for mean, min and max
could results in such a chart:</p> <p><img src="/assets/img/chart.722d5801.png" alt="min/max/mean NO2 chart"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/openEOPlatform/documentation/edit/main/usecases/no2-monitoring/index.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/31/2024, 1:06:22 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.55c107a2.js" defer></script><script src="/assets/js/11.d1ae8158.js" defer></script><script src="/assets/js/5.747ed92c.js" defer></script><script src="/assets/js/54.022a4dda.js" defer></script><script src="/assets/js/57.f55300dc.js" defer></script>
  </body>
</html>
